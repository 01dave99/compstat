t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta")
inits<-list(alpha=1,beta=integer(17),delta=1)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=5000, n.burnin=2000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=5000, n.burnin=2000, debug=TRUE, save.history=FALSE, DIC=TRUE)
mydata[mydata=="."]<-NA
mydata<-na.omit(mydata)
mydata$V3[mydata$V3==1]<-0
mydata$V3[mydata$V3==2]<-1
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta")
inits<-list(alpha=1,beta=integer(17),delta=1)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=5000, n.burnin=2000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=5000, n.burnin=2000, debug=TRUE, save.history=FALSE, DIC=TRUE)
mydata<-read.table("Report2_Dataset.txt", header=FALSE)
mydata[mydata=="."]<-NA
mydata<-na.omit(mydata)
mydata$V3[mydata$V3==1]<-0
mydata$V3[mydata$V3==2]<-1
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta")
inits<-list(alpha=1,beta=integer(17),delta=1)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=5000, n.burnin=2000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=100, n.burnin=50, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10, n.burnin=5, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10, n.burnin=5, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=100, n.burnin=50, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=1000, n.burnin=50, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit$summary
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit$summary
install.packages("coda", dependencies=TRUE,
repos="http://cran.us.r-project.org")
knitr::opts_chunk$set(echo = TRUE)
library(HDInterval)
library(R2OpenBUGS)
hdi(fit1$sims.list$a)
hdi(fit1$sims.list)
hdi(fit1$sims.list[,1:2])
hdi(fit1$sims.list[ ,1:2])
hdi(fit1$sims.list$b)
hdi(fit1$sims.list$a)
hdi(fit$sims.list)
traceplot(fit$sims.list,col="blue",sub="chain 1")
library(coda)
knitr::opts_chunk$set(echo = TRUE)
library(HDInterval)
library(R2OpenBUGS)
library(coda)
traceplot(fit$sims.list,col="blue",sub="chain 1")
traceplot(as.mcmc(fit$sims.list),col="blue",sub="chain 1")
chain1 <- as.mcmc(Example_BUGS.fit1$sims.matrix[,c(1:19)])
chain1 <- as.mcmc(fit$sims.matrix[,c(1:19)])
traceplot(chain1,col="blue",sub="chain 1")
chain1 <- as.mcmc(fit$sims.matrix[,c(1:19)])
heidel.diag(chain1)
knitr::opts_chunk$set(echo = TRUE)
library(HDInterval)
library(R2OpenBUGS)
library(coda)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit$summary
chain1 <- as.mcmc(fit$sims.matrix[,c(1:19)])
heidel.diag(chain1)
knitr::opts_chunk$set(echo = TRUE)
library(HDInterval)
library(R2OpenBUGS)
library(coda)
fit$summary
knitr::opts_chunk$set(echo = TRUE)
library(HDInterval)
library(R2OpenBUGS)
library(coda)
mydata<-read.table("Report2_Dataset.txt", header=FALSE)
mydata[mydata=="."]<-NA
mydata<-na.omit(mydata)
mydata$V3[mydata$V3==1]<-0
mydata$V3[mydata$V3==2]<-1
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(17),delta=1,Y=integer(n))
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
mydata<-read.table("Report2_Dataset.txt", header=FALSE)
mydata[mydata=="."]<-NA
mydata<-na.omit(mydata)
mydata$V3[mydata$V3==1]<-0
mydata$V3[mydata$V3==2]<-1
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(17),delta=1,Y=integer(n))
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta")
inits<-list(alpha=1,beta=integer(17),delta=1)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(17),delta=1,Y=ones(n,1))
inits<-list(alpha=1,beta=integer(17),delta=1,Y=rep(1,n))
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit$summary[1:19]
fit$summary$alpha
fit$summary
chain1 <- as.mcmc(fit$sims.matrix[,c(1:19)])
heidel.diag(chain1)
fit$summary[1:19,]
fit$mean$Y[1]
sqrt(4)
d<-(t[cens==1]-fit$mean$Y[cens==1])/fit$sd$Y[cens==1]
d<-abs((t[cens==1]-fit$mean$Y[cens==1])/fit$sd$Y[cens==1])
d<-abs((t[cens==1]-fit$mean$Y[cens==1])/fit$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(4,6,7,8,10,11,13,14,15,16,17,18,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =14, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(14),delta=1,Y=rep(1,n))
fit2<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival2.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit2$summary[1:16,]
d<-abs((t[cens==1]-fit2$mean$Y[cens==1])/fit2$sd$Y[cens==1])
sum(d)
chain1 <- as.mcmc(fit$sims.matrix[,c(1:16)])
heidel.diag(chain1)
d<-abs((t[cens==1]-fit2$mean$Y[cens==1])/fit2$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(6,8,10,11,13,14,15,16,17,18,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =12, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(12),delta=1,Y=rep(1,n))
fit3<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival3.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit3$summary[1:14,]
d<-abs((t[cens==1]-fit3$mean$Y[cens==1])/fit3$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n))
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit4$summary[1:14,]
fit4$summary[1:9,]
d<-abs((t[cens==1]-fit4$mean$Y[cens==1])/fit4$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =6, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(6),delta=1,Y=rep(1,n))
fit5<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival5.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit5$summary[1:8,]
d<-abs((t[cens==1]-fit5$mean$Y[cens==1])/fit5$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =6, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(6),delta=1,Y=rep(1,n))
fit5<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival5.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit5$summary[1:8,]
d<-abs((t[cens==1]-fit5$mean$Y[cens==1])/fit5$sd$Y[cens==1])
sum(d)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(fig.width=4, fig.height=3)
library(HDInterval)
library(R2OpenBUGS)
library(coda)
chain4<-as.mcmc(fit4$sims.matrix[,c(1:9)])
traceplot(chain4)
chain4<-as.mcmc(fit4$sims.matrix[,c(1:9)])
par(mfrow=c(3,3))
traceplot(chain4,col="blue")
mean(mydata$V14)
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
mean(x[,4])
mean(x[,5])
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900,100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900,100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2900, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
View(x)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2.9, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit4$summary[1:9,]
d<-abs((t[cens==1]-fit4$mean$Y[cens==1])/fit4$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =6, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(6),delta=1,Y=rep(1,n))
fit5<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival5.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit5$summary[1:8,]
d<-abs((t[cens==1]-fit5$mean$Y[cens==1])/fit5$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2.9, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit4$summary[1:9,]
d<-abs((t[cens==1]-fit4$mean$Y[cens==1])/fit4$sd$Y[cens==1])
sum(d)
chain4<-as.mcmc(fit4$sims.matrix[,c(1:9)])
par(mfrow=c(3,3))
traceplot(chain4,col="blue")
fit4$mean$S
fit4$mean$Y
fit4$summary$S
fit4$summary[287]
fit4$summary[,287]
fit4$summary[287,]
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2.9, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit4$summary[1:9,]
ecdf(fit4$sims.matrix[,287])
plot(ecdf(fit4$sims.matrix[,287],))
plot(ecdf(fit4$sims.matrix[,287]))
plot(ecdf(fit4$sims.matrix[,10]))
plot(ecdf(fit4$sims.matrix[,286]))
mydata<-read.table("Report2_Dataset.txt", header=FALSE)
mydata[mydata=="."]<-NA
mydata$V3[mydata$V3==1]<-NA
mydata<-na.omit(mydata)
mydata$V3[mydata$V3==2]<-1
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,4:20]
x<-matrix(as.numeric(unlist(x)), ncol =17, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(17),delta=1,Y=rep(1,n))
fit<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit$summary[1:19,]
chain1 <- as.mcmc(fit$sims.matrix[,c(1:19)])
heidel.diag(chain1)
d<-abs((t[cens==1]-fit$mean$Y[cens==1])/fit$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(4,6,7,8,10,11,13,14,15,16,17,18,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =14, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(14),delta=1,Y=rep(1,n))
fit2<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival2.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit2$summary[1:16,]
d<-abs((t[cens==1]-fit2$mean$Y[cens==1])/fit2$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(6,8,10,11,13,14,15,16,17,18,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =12, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(12),delta=1,Y=rep(1,n))
fit3<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival3.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit3$summary[1:14,]
d<-abs((t[cens==1]-fit3$mean$Y[cens==1])/fit3$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,16,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =7, nrow =n)
surv<-c(0.5, 17.3, 2.9, 100.77, 124.12, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(7),delta=1,Y=rep(1,n),S=1)
fit4<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival4.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=TRUE, save.history=FALSE, DIC=TRUE)
fit4$summary[1:9,]
d<-abs((t[cens==1]-fit4$mean$Y[cens==1])/fit4$sd$Y[cens==1])
sum(d)
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =6, nrow =n)
data<-list("t", "x", "n", "cens")
params<-c("alpha","beta","delta","Y")
inits<-list(alpha=1,beta=integer(6),delta=1,Y=rep(1,n))
fit5<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival5.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit5$summary[1:8,]
d<-abs((t[cens==1]-fit5$mean$Y[cens==1])/fit5$sd$Y[cens==1])
sum(d)
chain4<-as.mcmc(fit4$sims.matrix[,c(1:9)])
par(mfrow=c(3,3))
traceplot(chain4,col="blue")
plot(ecdf(fit4$sims.matrix[,286]))
plot(ecdf(fit4$sims.matrix[,268]))
chain4<-as.mcmc(fit5$sims.matrix[,c(1:8)])
par(mfrow=c(3,3))
traceplot(chain4,col="blue")
fit5$mean$Y
n<-nrow(mydata)
cens<-mydata$V3
t<-mydata$V2
x<-mydata[,c(10,11,13,14,19,20)]
x<-matrix(as.numeric(unlist(x)), ncol =6, nrow =n)
surv<-c(0.5, 17.3, 2.9, 100.77, 14.6, 4)
data<-list("t", "x", "n", "cens","surv")
params<-c("alpha","beta","delta","Y","S")
inits<-list(alpha=1,beta=integer(6),delta=1,Y=rep(1,n),S=1)
fit5<-bugs(data=data,inits=list(inits),parameters.to.save=params,"model_survival5.txt", n.chains=1, n.iter=10000, n.burnin=5000, debug=FALSE, save.history=FALSE, DIC=TRUE)
fit5$summary[1:8,]
d<-abs((t[cens==1]-fit5$mean$Y[cens==1])/fit5$sd$Y[cens==1])
sum(d)
fit5$mean$Y
fit5$mean$S
plot(ecdf(fit5$sims.matrix[,268]))
plot(ecdf(fit5$sims.matrix[,9]))
plot(1-ecdf(fit5$sims.matrix[,9]))
plot(ecdf(fit5$sims.matrix[,9]))
plot(ecdf(fit5$sims.matrix[,9]))
